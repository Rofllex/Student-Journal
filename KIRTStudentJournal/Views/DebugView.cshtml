@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    string getRoleName(KIRTStudentJournal.Database.Journal.Role role)
    {
        Type roleType = typeof(KIRTStudentJournal.Database.Journal.Role);
        return Enum.GetName(roleType, role);
    }
}


<html>
<head>
    <link rel="stylesheet" href="/css/debugStyle.css" />
</head>
<body>
    <h1>
        Hello
    </h1>

    <table>
@{ 
    using (var db = new KIRTStudentJournal.Database.DatabaseContext())
    {
        foreach (var account in db.Accounts)
        {
            <tr>
                <td>@account.Login</td>
                <td>@getRoleName(account.Role)</td>
                @{
                    if (account.Person != null)
                    {
                        <td>@account.Person.GetType().Name</td>
                    }
                    else
                    {
                        <td>person is null</td>
                    }
                }
            </tr>
        }
    }
}
    </table>
</body>
</html>
